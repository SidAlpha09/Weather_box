<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Weather Box</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
<link rel='stylesheet' href='https://cdn.jsdelivr.net/foundation/5.5.0/css/foundation.css'><link rel="stylesheet" href="./style.css">
<style>
  @import url(https://fonts.googleapis.com/css?family=Work+Sans:400,300,200,100);
@import url(https://fonts.googleapis.com/css?family=Open+Sans:400,300,600);
body {
  background: #EDF7FA;
}

.card {
  position: relative;
  top: 20vh;
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23);
  border-radius: 0.75em;
  padding: 0;
  transition: all 0.2s ease-in-out;
}
.card:nth-child(even) {
  margin: 0 1em;
}

.card-top {
  background: #B2DCE5;
  padding: 3em;
  border-top-left-radius: 0.75em;
  border-top-right-radius: 0.75em;
}
.card-top .card-img {
  display: block;
  margin-left: auto;
  margin-right: auto;
  height: 11em;
  width: auto;
}
.card-top .overlay {
  display: block;
  position: absolute;
  top: 0;
  left: 0;
  height: 17.75em;
  width: 100%;
  border-top-left-radius: 0.75em;
  border-top-right-radius: 0.75em;
  z-index: 10;
  background: rgba(0, 0, 0, 0.55);
  overflow: hidden;
  transition: all 700ms ease;
  opacity: 0;
}
.card-top .overlay h1 {
  text-align: center;
  font-weight: 500;
  color: #fff;
  position: relative;
  top: 50%;
  transform: translateY(-50%);
}
.card-top .overlay:hover, .card-top .overlay:focus {
  opacity: 1;
}

.triangle {
  position: relative;
  height: 0;
  width: 0;
  border-left: 1.5em solid transparent;
  border-right: 1.5em solid transparent;
  border-top: 1.5em solid #B2DCE5;
  margin: 0 auto -1.75em auto;
  top: -0.25em;
  z-index: 20;
}

.card-middle {
  display: none;
  background: #efefef;
  padding: 1em 1em 1em 1em;
}
.card-middle .more {
  font-family: Open Sans;
  font-weight: 400;
}

.card-bottom {
  background: #f7f7f7;
  padding: 1em 1em 1em 1em;
  border-bottom-left-radius: 0.75em;
  border-bottom-right-radius: 0.75em;
}
.card-bottom .card-title {
  font-weight: 200;
}

.circle-button {
  position: absolute;
  bottom: 0;
  right: 3.5em;
  width: 70px;
  height: 70px;
  font-size: 1.5em;
  color: #fff;
  background: #fff;
  border: none;
  border-radius: 50%;
  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.275);
  outline: none;
  cursor: pointer;
  transition: all 300ms ease;
}
.circle-button .close {
  transition: transform 400ms ease;
}
.circle-button:hover {
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.275);
}

.closeRotate {
  transform: rotate(45deg);
}

body, h1, h2, h3, h4, h5, h6, p {
  font-family: Work Sans;
}
</style>
</head>
<body>
<!-- partial:index.partial.html -->
<div class="row">
  <div class="small-7 medium-5 large-4 column end small-centered card">
    <div class="card-top"><a href="#0">
        <div class="overlay">
          <h1>Welcome!</h1>
        </div></a><img class="card-img" src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/324479/yeti.png"/></div>
    <div class="triangle">
      <div class="circle-button" id="circleDrop"><img class="close" src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/324479/close.svg"/></div>
    </div>
    <div class="card-middle">
        <h1>Current Weather</h1>
        <p id="temperature"></p>
        <p id="humidity"></p>
        <p id="weather"></p>
        Time:<p id="clock"></p>
        <button onclick="getWeather()">Refresh Weather</button>
    </div>
    <div class="card-bottom text-center">
      <h3 class="card-title">Weather Box</h3>
    </div>
  </div>
</div>
<!-- partial -->
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script><script >
    $('#circleDrop').click(function(){
  $('.card-middle').slideToggle();
  $('.close').toggleClass('closeRotate');
});
// script.js
function getWeather() {
  // Replace 'YourOpenWeatherMapAPIKey' and 'YourCity' with your actual API key and city
  const apiKey = 'b91dc8f2734a6887c9b4d011a4e1375a';
  const city = 'Kolkata';
  const units = 'metric';

  const apiUrl = `http://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=${units}`;

  fetchWeather(apiUrl);
}

function fetchWeather(apiUrl) {
  fetch(apiUrl)
      .then(response => response.json())
      .then(data => {
          displayWeather(data);
      })
      .catch(error => {
          console.error('Error fetching weather data:', error);
      });
}

function displayWeather(weatherData) {
  const temperatureElement = document.getElementById('temperature');
  const humidityElement = document.getElementById('humidity');
  const weatherElement = document.getElementById('weather');

  const temperature = weatherData.main.temp;
  const humidity = weatherData.main.humidity;
  const weather = weatherData.weather[0].main;

  temperatureElement.innerText = `Temperature: ${temperature}Â°C`;
  humidityElement.innerText = `Humidity: ${humidity}%`;
  weatherElement.innerText = `Weather: ${weather}`;
}

function updateClock() {
  const clockElement = document.getElementById('clock');
  const now = new Date();
  const hours = now.getHours().toString().padStart(2, '0');
  const minutes = now.getMinutes().toString().padStart(2, '0');
  const seconds = now.getSeconds().toString().padStart(2, '0');
  clockElement.innerText = `${hours}:${minutes}:${seconds}`;
}

// Fetch weather data initially
getWeather();

// Set interval to update the clock every second
setInterval(() => {
  updateClock();
}, 1000);  // 1 second

  </script>

</body>
</html>
